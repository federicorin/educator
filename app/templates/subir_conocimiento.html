<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* Ajustes r√°pidos */
    .sidebar { width: 250px; }
    .chat-window { flex: 1; }
    .message.user    { text-align: right; }
    .message.assistant { text-align: left; }
    .messages { max-height: 70vh; overflow-y: auto; }
    body {
  display: flex;
  flex-direction: column;
  justify-content: center;  /* centra verticalmente */
  align-items: center;      /* centra horizontalmente */
  height: 100vh;            /* que ocupe toda la altura */
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background-color: #812727;
}

/* Fondo animado */
.word-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  z-index: 1;
  pointer-events: none;
}

.word {
  position: absolute;
  color: #ffffff;
  font-size: 12vw;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s ease;
}
.word.show {
  opacity: 0.15;
}
.word.hide {
  opacity: 0;
}

/* Contenedor centrado */
.upload-container {
  height: 100vh;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  padding-top: 2rem;
  z-index: 2;
}

/* Caja grande */
.upload-box {
  background: rgba(13, 17, 23, 0.85);
  padding: 4rem 3rem;
  border-radius: 16px;
  width: 100%;
  max-width: 600px;
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.4);
  z-index: 3;
  position: relative;
  text-align: center;
}

/* T√≠tulo */
.upload-box .title {
  color: white;
  margin-bottom: 2rem;
  font-size: 1.6rem;
}

/* √Årea de arrastrar y soltar */
.drop-area {
  background-color: #2b2f36;
  border: 2px dashed #4a4a4a;
  border-radius: 12px;
  padding: 2.5rem;
  cursor: pointer;
  color: #ccc;
  transition: background-color 0.3s, border-color 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 150px;
  position: relative;
}

.drop-area:hover {
  background-color: #33373d;
  border-color: #666;
}

.drop-text {
  font-size: 1rem;
  color: #aaa;
}

/* Ocultar input original */
.file-input {
  opacity: 0;
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  cursor: pointer;
}

/* Bot√≥n */
.button.inverted {
  background-color: #ffffff !important;
  color: #000000 !important;
  border-color: #ffffff !important;
}

.button.inverted:hover {
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

.mt-4 {
  margin-top: 1.5rem;
}

.drop-area.filled {
  flex-direction: column;
  padding: 2rem 1rem;
  text-align: center;
}

.preview {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}

.preview img {
  width: 48px;
  height: 48px;
}

.preview .file-name {
  font-size: 0.9rem;
  color: #ccc;
  word-break: break-all;
  max-width: 100%;
  text-align: center;
}

.logo-fixed {
  position: absolute;
  top: 1rem;               /* distancia desde el top de la ventana */
  left: 50%;               /* punto de partida al 50% del ancho */
  transform: translateX(-50%);  /* lo centra realmente */
  z-index: 5;              /* por encima del fondo animado */
  max-height: 4rem;        /* opcional: limita su tama√±o */
}

</style>
</head>
<body>

<div id="word-bg" class="word-bg"></div>

<img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo" class="logo-fixed;">

<div class="upload-container">
  <div class="upload-box">

    <h2 class="title">Subir documento</h2>

    <form method="post" enctype="multipart/form-data">
      <label for="file" class="drop-area" id="drop-area">
        <div class="preview" id="preview">
        <span class="drop-text">Haz clic o arrastra un archivo aqu√≠</span>
        </div>
        <input type="file" name="file" id="file" class="file-input" required>
      </label>

      <button type="submit" class="button inverted is-fullwidth mt-4">Subir y procesar</button>
    </form>

  </div>
</div>



  <script>
document.addEventListener('DOMContentLoaded', () => {
const palabras = [
  "Educaci√≥n", "Cooperativismo", "Aprendizaje", "Comunicaci√≥n", "Tutor√≠as",
  "Conocimiento", "Colaboraci√≥n", "Innovaci√≥n", "Escuela", "Estudio",
  "Respeto", "Desarrollo", "Formaci√≥n", "Crecimiento", "Tecnolog√≠a",
  "Creatividad", "Investigaci√≥n", "Motivaci√≥n", "Liderazgo", "Disciplina",
  "Solidaridad", "Empat√≠a", "Organizaci√≥n", "Comprensi√≥n", "Debate",
  "Resoluci√≥n", "Pensamiento", "Cr√≠tico", "Proyecto", "Trabajo en equipo",
  "Mentor√≠a", "Evaluaci√≥n", "√âxito", "Superaci√≥n", "Inclusi√≥n",
  "Diversidad", "Metodolog√≠a", "Calidad", "Competencia", "Sostenibilidad"
];


  const fondo = document.getElementById('word-bg');

  function lanzarPalabra() {
    const txt = palabras[Math.floor(Math.random()*palabras.length)];
    const div = document.createElement('div');
    div.className = 'word';
    // posici√≥n aleatoria
    div.style.top = `${10 + Math.random()*80}%`;
    div.style.left = `${Math.random()*80}%`;
    // tama√±o aleatorio entre 2 y 4 rem
    div.style.fontSize = `${4 + Math.random()*6}rem`;
    fondo.appendChild(div);

    // typewriter
    let idx = 0;
    const speed = 100; // ms por letra
    function type() {
      if (idx < txt.length) {
        div.textContent += txt[idx++];
        setTimeout(type, speed);
      } else {
        // una vez tipeada, la mostramos y esperamos antes de ocultar
        div.classList.add('show');
        setTimeout(() => {
          div.classList.remove('show');
          div.classList.add('hide');
          // limpiar despu√©s de la transici√≥n
          setTimeout(() => fondo.removeChild(div), 500);
        }, 1500); // tiempo en visible antes de esconder
      }
    }
    type();
  }

  // cada 800ms lanzamos una nueva palabra
  setInterval(lanzarPalabra, 800);
  
  const dropArea = document.getElementById("drop-area");
  const fileInput = document.getElementById("file");
  const preview = document.getElementById("preview");

  const fileIcons = {
    pdf: "üìÑ",
    doc: "üìÑ",
    docx: "üìÑ",
    ppt: "üìä",
    pptx: "üìä",
    xls: "üìä",
    xlsx: "üìä",
    txt: "üìÉ",
    jpg: "üñºÔ∏è",
    jpeg: "üñºÔ∏è",
    png: "üñºÔ∏è",
    gif: "üñºÔ∏è",
    default: "üìÅ"
  };

  function showPreview(file) {
    const extension = file.name.split('.').pop().toLowerCase();
    const icon = fileIcons[extension] || fileIcons.default;

    preview.innerHTML = `
      <div class="preview">
        <div style="font-size: 3rem;">${icon}</div>
        <div class="file-name">${file.name}</div>
      </div>
    `;
    dropArea.classList.add("filled");
  }

  fileInput.addEventListener("change", () => {
    if (fileInput.files.length > 0) {
      showPreview(fileInput.files[0]);
    }
  });

  dropArea.addEventListener("dragover", (e) => {
    e.preventDefault();
    dropArea.classList.add("hover");
  });

  dropArea.addEventListener("dragleave", () => {
    dropArea.classList.remove("hover");
  });

  dropArea.addEventListener("drop", (e) => {
    e.preventDefault();
    dropArea.classList.remove("hover");

    const files = e.dataTransfer.files;
    if (files.length > 0) {
      fileInput.files = files;
      showPreview(files[0]);
    }
  });
});
</script>
</body>
</html>